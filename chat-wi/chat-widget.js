/* Chat Widget â€“ minified bundle */
!function(){const e="http://127.0.0.1:8000/query",t=document.createElement("style");t.textContent=`.cw-b{position:fixed;bottom:1.5rem;right:1.5rem;width:3.5rem;height:3.5rem;border-radius:50%;background:#3b82f6;color:#fff;display:flex;align-items:center;justify-content:center;font-size:28px;cursor:pointer;z-index:1000}.cw-b:hover{background:#2563eb}.cw-w{position:fixed;bottom:6rem;right:1.5rem;width:20rem;max-height:26rem;background:#fff;border-radius:.75rem;box-shadow:0 4px 12px rgba(0,0,0,.2);display:flex;flex-direction:column;overflow:hidden;z-index:999;opacity:0;transform:translateY(1rem);pointer-events:none;transition:.2s}.cw-w.open{opacity:1;transform:none;pointer-events:auto}.cw-h{background:#3b82f6;padding:.75rem 1rem;color:#fff;font-weight:600;display:flex;justify-content:space-between;align-items:center}.cw-c{cursor:pointer}.cw-m{flex:1;overflow-y:auto;padding:1rem .75rem;font-size:.875rem}.cw-msg{max-width:80%;margin-bottom:.625rem;padding:.5rem .625rem;border-radius:.5rem}.cw-u{background:#3b82f6;color:#fff;margin-left:auto}.cw-bot{background:#f1f5f9;color:#111}.cw-in{display:flex;border-top:1px solid #e5e7eb}.cw-in input{flex:1;border:0;padding:.625rem .75rem;font-size:.875rem;outline:none}.cw-in button{background:#3b82f6;color:#fff;border:0;padding:0 1rem;cursor:pointer}`,document.head.appendChild(t);const n=document.getElementById("chat-widget-root")||document.body,o=document.createElement("div"),c=document.createElement("div");o.className="cw-b",o.innerHTML="ðŸ’¬",c.className="cw-w",c.innerHTML='<div class="cw-h">Chatbot <span class="cw-c">âœ•</span></div><div class="cw-m" id="cwM"></div><div class="cw-in"><input id="cwI" placeholder="Typeâ€¦"/><button id="cwS">Send</button></div>',n.appendChild(o),n.appendChild(c);const s=c.querySelector("#cwM"),i=c.querySelector("#cwI");function a(e,t){const n=document.createElement("div");return n.className=`cw-msg ${"user"===e?"cw-u":"cw-bot"}`,n.textContent=t,s.appendChild(n),s.scrollTop=s.scrollHeight,n}function r(e=!c.classList.contains("open")){c.classList.toggle("open",e),e&&i.focus()}async function d(){const t=i.value.trim();if(t){i.value="",a("user",t);const n=a("bot","â€¦");try{const o=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:t})});if(!o.ok)throw new Error("Server error");n.textContent=(await o.json()).answer||"(no answer)"}catch(e){n.textContent="Error: "+e.message}}}o.addEventListener("click",(()=>r())),c.querySelector(".cw-c").addEventListener("click",(()=>r(!1))),c.querySelector("#cwS").addEventListener("click",d),i.addEventListener("keydown",e=>"Enter"===e.key&&d())}();
